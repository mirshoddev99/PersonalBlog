{% extends 'base.html' %}

{% block content %}
        <div class="card">
          <div class="card-body">
              {%  if blog.photo %}
                <img class="card-img-top" src="{{ blog.photo.url }}" alt="{{ blog.title }}"><br><br>
              {% endif %}
              <h1 class="card-title">{{ blog.title }}</h1><br>
              <h6 class="card-subtitle mb-2 text-muted">Author: {{ superuser.username }} | {{ blog.add_time }}</h6>
              <hr>
              <p class="card-text">{{ blog.text | safe }}</p><br>

        {% if request.user.is_superuser %}
        <button type="button" class="btn btn-primary" style="margin-right: 5px;"><a href="{% url 'post_edit' blog.id %}" style="text-decoration: none; color: white;">Edit</a></button>
      <button type="button" class="btn btn-danger"><a href="{% url 'post_delete' blog.id %}" style="text-decoration: none; color: white;">Delete</a></button>
      <br><br>
        {% endif %}

    <h6><a href="{% url 'home' %}"style="text-decoration: none;">All posts</a></h6>
</div>
</div>


<style>

  .card{
     width: 1200px;
     margin: 15px auto;
     padding: 15px;
  }


  .container{
    width: 1200px;
    margin: 15px auto;
    padding: 35px;

  }


</style>


<br><br>
<section>
    <div class="container">

        <h2>Comments...</h2>
        <hr>
        <br>

        {% if not comments %}
        {% if not user.is_authenticated %}

            No Comments Yet... <br><br>
        <a href="{% url 'register' %}" style="text-decoration: none;">Add comment</a>
        {% else %}
                    No Comments Yet... <br><br>
                <a href="{% url 'add_comment' blog.pk %}" style="text-decoration: none;">Add comment</a>
        {% endif %}


        {% else %}
            {% if not user.is_authenticated %}
                <a href="{% url 'register' %}" style="text-decoration: none;">Add comment</a>
            {% elif user.is_authenticated %}
                <a href="{% url 'add_comment' blog.pk %}" style="text-decoration: none;">Add comment</a>
            {% endif %}

        <br><br>

            {% for comment in comments %}
                <strong>
                {{ comment.name | safe }} - {{ comment.created_on }}
                </strong>
                <p>{{ comment.body | safe}}</p><br>
            {% endfor %}
        <br><br>

        {% endif %}
    </div>

</section>

{% endblock content %}
